<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_55) on Fri Jul 18 20:09:54 UTC 2014 -->
<title>PermissionedWebAssetUtil (dotCMS API)</title>
<meta name="date" content="2014-07-18">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PermissionedWebAssetUtil (dotCMS API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PermissionedWebAssetUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/dotmarketing/business/PermissionCacheImpl.html" title="class in com.dotmarketing.business"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/dotmarketing/business/PermissionFactory.html" title="class in com.dotmarketing.business"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/dotmarketing/business/PermissionedWebAssetUtil.html" target="_top">Frames</a></li>
<li><a href="PermissionedWebAssetUtil.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.dotmarketing.business</div>
<h2 title="Class PermissionedWebAssetUtil" class="title">Class PermissionedWebAssetUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.dotmarketing.business.PermissionedWebAssetUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">PermissionedWebAssetUtil</span>
extends java.lang.Object</pre>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Jason Tesser
 The purpose of this class is to pull things like Templates, Pages, and Files with their respecting permissions
 This is needed because if you have a limited user in a system with many object and permissions it can be slow to pull all 
 WebAssets and then loop over each one filtering out based on permissions. This class provides methods which get what is needed 
 in 1-2 DB pulls per call.  This can be faster in the large systems.</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/dotmarketing/business/PermissionedWebAssetUtil.html#PermissionedWebAssetUtil()">PermissionedWebAssetUtil</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.List&lt;<a href="../../../com/dotmarketing/portlets/structure/model/Structure.html" title="class in com.dotmarketing.portlets.structure.model">Structure</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/dotmarketing/business/PermissionedWebAssetUtil.html#findStructuresForLimitedUser(java.lang.String, java.lang.Integer, java.lang.String, int, int, int, com.liferay.portal.model.User, boolean)">findStructuresForLimitedUser</a></strong>(java.lang.String&nbsp;searchString,
                            java.lang.Integer&nbsp;structureType,
                            java.lang.String&nbsp;dbColSort,
                            int&nbsp;offset,
                            int&nbsp;limit,
                            int&nbsp;permission,
                            com.liferay.portal.model.User&nbsp;user,
                            boolean&nbsp;respectFrontEndPermissions)</code>
<div class="block">THIS METHOD WILL HIT DB AT LEAST ONCE.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.List&lt;<a href="../../../com/dotmarketing/portlets/templates/model/Template.html" title="class in com.dotmarketing.portlets.templates.model">Template</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/dotmarketing/business/PermissionedWebAssetUtil.html#findTemplatesForLimitedUser(java.lang.String, java.lang.String, boolean, java.lang.String, int, int, int, com.liferay.portal.model.User, boolean)">findTemplatesForLimitedUser</a></strong>(java.lang.String&nbsp;searchString,
                           java.lang.String&nbsp;hostName,
                           boolean&nbsp;searchHost,
                           java.lang.String&nbsp;dbColSort,
                           int&nbsp;offset,
                           int&nbsp;limit,
                           int&nbsp;permission,
                           com.liferay.portal.model.User&nbsp;user,
                           boolean&nbsp;respectFrontEndPermissions)</code>
<div class="block">THIS METHOD WILL HIT DB AT LEAST ONCE.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PermissionedWebAssetUtil()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PermissionedWebAssetUtil</h4>
<pre>public&nbsp;PermissionedWebAssetUtil()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="findTemplatesForLimitedUser(java.lang.String, java.lang.String, boolean, java.lang.String, int, int, int, com.liferay.portal.model.User, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findTemplatesForLimitedUser</h4>
<pre>public static&nbsp;java.util.List&lt;<a href="../../../com/dotmarketing/portlets/templates/model/Template.html" title="class in com.dotmarketing.portlets.templates.model">Template</a>&gt;&nbsp;findTemplatesForLimitedUser(java.lang.String&nbsp;searchString,
                                                   java.lang.String&nbsp;hostName,
                                                   boolean&nbsp;searchHost,
                                                   java.lang.String&nbsp;dbColSort,
                                                   int&nbsp;offset,
                                                   int&nbsp;limit,
                                                   int&nbsp;permission,
                                                   com.liferay.portal.model.User&nbsp;user,
                                                   boolean&nbsp;respectFrontEndPermissions)
                                                            throws <a href="../../../com/dotmarketing/exception/DotDataException.html" title="class in com.dotmarketing.exception">DotDataException</a>,
                                                                   <a href="../../../com/dotmarketing/exception/DotSecurityException.html" title="class in com.dotmarketing.exception">DotSecurityException</a></pre>
<div class="block">THIS METHOD WILL HIT DB AT LEAST ONCE. It loads the templatesIds to load then trys to load from Cache or go back
 to DB using Hibernate to load the ones not in cache with a single Hibernate query (if there are more then 500 it will actually go back to 
 db for each 500 as it does an IN (..)).  
 NOTE: Returns working templates</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>searchString</code> - - Can be null or empty. Can be used as a filter. Will Search Template TITLE and Host (if searchHost is True)</dd><dd><code>dbColSort</code> - - Name of the DB Column to sort by. If left null or empty will sort by template name by default</dd><dd><code>offset</code> - </dd><dd><code>limit</code> - </dd><dd><code>permission</code> - - The required Permission needed to pull template</dd><dd><code>user</code> - </dd><dd><code>respectFrontEndPermissions</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/dotmarketing/exception/DotSecurityException.html" title="class in com.dotmarketing.exception">DotSecurityException</a></code></dd>
<dd><code><a href="../../../com/dotmarketing/exception/DotDataException.html" title="class in com.dotmarketing.exception">DotDataException</a></code></dd></dl>
</li>
</ul>
<a name="findStructuresForLimitedUser(java.lang.String, java.lang.Integer, java.lang.String, int, int, int, com.liferay.portal.model.User, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>findStructuresForLimitedUser</h4>
<pre>public static&nbsp;java.util.List&lt;<a href="../../../com/dotmarketing/portlets/structure/model/Structure.html" title="class in com.dotmarketing.portlets.structure.model">Structure</a>&gt;&nbsp;findStructuresForLimitedUser(java.lang.String&nbsp;searchString,
                                                     java.lang.Integer&nbsp;structureType,
                                                     java.lang.String&nbsp;dbColSort,
                                                     int&nbsp;offset,
                                                     int&nbsp;limit,
                                                     int&nbsp;permission,
                                                     com.liferay.portal.model.User&nbsp;user,
                                                     boolean&nbsp;respectFrontEndPermissions)
                                                              throws <a href="../../../com/dotmarketing/exception/DotDataException.html" title="class in com.dotmarketing.exception">DotDataException</a>,
                                                                     <a href="../../../com/dotmarketing/exception/DotSecurityException.html" title="class in com.dotmarketing.exception">DotSecurityException</a></pre>
<div class="block">THIS METHOD WILL HIT DB AT LEAST ONCE. It loads the templatesIds to load then trys to load from Cache or go back
 to DB using Hibernate to load the ones not in cache with a single Hibernate query (if there are more then 500 it will actually go back to 
 db for each 500 as it does an IN (..)).  
 NOTE: Returns working templates</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>searchString</code> - - Can be null or empty. Can be used as a filter. Will Search Template TITLE and Host (if searchHost is True)</dd><dd><code>dbColSort</code> - - Name of the DB Column to sort by. If left null or empty will sort by template name by default</dd><dd><code>offset</code> - </dd><dd><code>limit</code> - </dd><dd><code>permission</code> - - The required Permission needed to pull template</dd><dd><code>user</code> - </dd><dd><code>respectFrontEndPermissions</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/dotmarketing/exception/DotSecurityException.html" title="class in com.dotmarketing.exception">DotSecurityException</a></code></dd>
<dd><code><a href="../../../com/dotmarketing/exception/DotDataException.html" title="class in com.dotmarketing.exception">DotDataException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PermissionedWebAssetUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/dotmarketing/business/PermissionCacheImpl.html" title="class in com.dotmarketing.business"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/dotmarketing/business/PermissionFactory.html" title="class in com.dotmarketing.business"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/dotmarketing/business/PermissionedWebAssetUtil.html" target="_top">Frames</a></li>
<li><a href="PermissionedWebAssetUtil.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
                                <i>Copyright &#169; 2013 dotCMS Inc. All Rights Reserved.</i></small></p>
</body>
</html>
